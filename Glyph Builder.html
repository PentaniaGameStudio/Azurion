<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Glyph Builder â€¢ JDR</title>
  <link rel="icon" type="image/x-icon" href="GlyphBuilder/asset/favicon.ico" />
  <link rel="stylesheet" href="GlyphBuilder/asset/glyph.css" />
</head>
<body>
  <header>
    <div>
      <h1>âœ¨ Glyphe Builder</h1>
      <small class="muted">Modes : CrÃ©ateur â€¢ Analyseur â€” Mana arrondi Ã  lâ€™entier supÃ©rieur</small>
    </div>
    <div class="row">
      <button data-route="builder" class="btn-tab on" id="btnBuilder">ğŸ›ï¸ CrÃ©ateur de Glyphe</button>
      <button data-route="analyzer" class="btn-tab" id="btnAnalyzer">ğŸ§ª Analyseur de Glyphe</button>
    </div>
  </header>

  <!-- ===== VUE CRÃ‰ATEUR ===== -->
  <section id="builderView" class="views">
    <section class="active-bar">
      <div class="center-window">
        <div id="emojiBubble" class="emoji-bubble">(Aucune glyphe sÃ©lectionnÃ©e)</div>
        <div id="centerTotals" class="totals"></div>
        <div class="center-actions">
          <button id="copyBtn" class="btn-accent">ğŸ“‹ Copier</button>
          <button id="resetBtn" class="btn-danger">â™»ï¸ Reset</button>
        </div>
      </div>
    </section>

    <main class="wrap">
      <!-- CompÃ©tences -->
      <section class="card" id="dbCard">
        <h2>ğŸ“š CompÃ©tences possÃ©dÃ©es</h2>
        <div class="content stack">
          <div class="tiny muted">Ajoute exactement le nom des sÃ©ries connues (ex: Â« SÃ©rie Basique 1 Â»).</div>
          <div class="row">
            <input id="skillInput" type="text" placeholder="Nom de la compÃ©tenceâ€¦" />
            <button class="btn-accent" id="addSkill">+ Ajouter</button>
            <button class="btn-ghost" id="clearSkills">Effacer tout</button>
          </div>
          <div id="skillList" class="row"></div>
          <hr style="border-color:var(--border);opacity:.4">
          <div class="tiny muted">Les sÃ©ries connues dÃ©bloquent dynamiquement les glyphes ci-contre.</div>
        </div>
      </section>

      <!-- SÃ©lecteur de glyphes -->
      <section class="card">
        <h2>ğŸ”¤ Glyphes disponibles</h2>
        <div class="content">
          <div class="cats" id="catTabs"></div>
          <div id="glyphGrid" class="grid"></div>
        </div>
        <div class="footer">
          <div class="totals" id="totals"></div>
          <div class="row">
            <button id="copyBtn_old" class="btn-accent">ğŸ“‹ Copier</button>
            <button id="resetBtn_old" class="btn-danger">â™»ï¸ Reset</button>
          </div>
        </div>
      </section>
    </main>
  </section>

  <!-- ===== VUE ANALYSEUR ===== -->
  <section id="analyzerView" class="views hidden">
    <section class="active-bar">
      <div class="center-window" style="max-width:1000px">
        <div class="row" style="width:100%">
          <input id="anInput" type="text" placeholder="Colle tes glyphes (ex: ğŸ”¥ ğŸ’§ ğŸ›œ â†•ï¸, ou noms: Feu, Zone, Ligne 4mâ€¦)" />
          <button id="anPaste" class="btn-ghost">ğŸ“¥ Coller</button>
          <button id="anRun" class="btn-accent">ğŸ” Analyser</button>
          <button id="anAddToSel" class="btn-ghost" disabled>â• Ajouter Ã  la sÃ©lection</button>
        </div>
        <div id="anBubble" class="emoji-bubble">(en attente dâ€™analyse)</div>
        <div id="anTotals" class="totals"></div>
      </div>
    </section>

    <div class="wrap" style="grid-template-columns:1fr">
      <section class="card">
        <h2>ğŸ“ˆ RÃ©sultats de lâ€™analyse</h2>
        <div class="content results">
          <div id="anDetected" class="callout">
            <div class="tiny muted">Glyphes dÃ©tectÃ©es :</div>
            <div id="anDetectedChips" class="chips"></div>
          </div>
          <div id="anUnknown" class="callout">
            <div class="tiny muted">Fragments non reconnus :</div>
            <div id="anUnknownChips" class="chips"></div>
          </div>
          <div class="callout">
            <table class="table" id="anTable">
              <thead>
                <tr><th>Glyphe</th><th>CatÃ©gorie</th><th>Diff</th><th>Mana</th></tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>
    </div>
  </section>

  <script type="module" src="GlyphBuilder/js/main.js"></script>
</body>
</html>